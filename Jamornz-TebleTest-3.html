<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <title>‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÅ‡∏Ç‡πà‡∏á ‡∏™‡∏≤‡∏ô‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå 7&9 EP 13</title>

  <style>
    body {
      font-family: Arial, sans-serif;
      background: #1e1e1e;
      color: white;
      padding: 20px 10px;
      margin: 0;
    }
    h1, h2 {
      text-align: center;
      margin: 0;
    }
    h1 {
      margin-bottom: 6px;
      font-size: 1.4rem;
    }
    h2 {
      font-weight: normal;
      font-size: 0.95rem;
      margin-bottom: 20px;
      line-height: 1.4;
    }
    #controls {
      display: flex;
      justify-content: center;
      margin-bottom: 16px;
    }
    select {
      padding: 6px 10px;
      font-size: 1rem;
      border-radius: 6px;
      border: 1px solid #555;
      background: #2b2b2b;
      color: #fff;
    }

    table {
      width: 100%;
      max-width: 1200px;
      margin: 36px auto;
      border-collapse: collapse;
      background: #2a2a2a;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 0 10px rgba(0,0,0,0.8);
      table-layout: fixed;
    }
    col.col-time  { width: 7.69%; }
    col.col-match { width: 7.69%; }
    col.col-team  { width: 38.46%; }
    col.col-vs    { width: 7.69%; }

    th, td {
      padding: 12px 8px;
      border: 1px solid #444;
      text-align: center;
      overflow-wrap: break-word;
    }
    th {
      background-color: #3a3a3a;
    }
    thead tr:first-child th {
      background-color: #444;
      font-size: 1.15em;
    }
    td.vs {
      background-color: #111;
      font-weight: bold;
      white-space: nowrap;
    }
    tr:nth-child(even) {
      background-color: #2f2f2f;
    }
    tr:nth-child(odd) {
      background-color: #262626;
    }

    @media(max-width:768px){
      th,td{padding:8px 6px;font-size:13px}
    }
  </style>
</head>
<body>

  <h1>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ ‡∏™‡∏≤‡∏ô‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå 7&amp;9 EP 13</h1>
  <h2>üìÖ ‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡∏ß‡∏±‡∏ô‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå‡∏ó‡∏µ‡πà 22 ‡∏°‡∏¥‡∏ñ‡∏∏‡∏ô‡∏≤‡∏¢‡∏ô 2568<br>‚öΩ ‡∏ì ‡∏™‡∏ô‡∏≤‡∏° SML ‡∏´‡∏ô‡∏≠‡∏á‡∏´‡∏±‡∏ß‡∏¢‡∏≤‡∏á &amp; ‡∏ö‡πâ‡∏≤‡∏ô‡πÑ‡∏ú‡πà‡∏ß‡∏á‡∏®‡πå ‚Ä¢ üìå ‡∏≠‡∏≥‡πÄ‡∏†‡∏≠‡πÄ‡∏°‡∏∑‡∏≠‡∏á ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏û‡∏¥‡∏©‡∏ì‡∏∏‡πÇ‡∏•‡∏Å</h2>

  <div id="controls">
    <label style="margin-right:8px">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏ô‡∏≤‡∏°:</label>
    <select id="fieldSelect">
      <option value="field1">‡∏™‡∏ô‡∏≤‡∏°‡∏ó‡∏µ‡πà 1</option>
      <option value="field2">‡∏™‡∏ô‡∏≤‡∏°‡∏ó‡∏µ‡πà 2</option>
    </select>
  </div>

  <div id="content"></div>

  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
  <script>
    const urls = {
      field1: "https://docs.google.com/spreadsheets/d/e/2PACX-1vQxQVDSQZxKIkP2v60gYVw5tbmRbmSwKnHGXF2g7HXUj9FYHZl1d6_JJ8wH-3ArPgT8Us5DJHibP56d/pub?gid=0&single=true&output=csv",
      field2: "https://docs.google.com/spreadsheets/d/e/2PACX-1vQxQVDSQZxKIkP2v60gYVw5tbmRbmSwKnHGXF2g7HXUj9FYHZl1d6_JJ8wH-3ArPgT8Us5DJHibP56d/pub?gid=1046841084&single=true&output=csv"
    };

    const select = document.getElementById("fieldSelect");
    select.addEventListener("change", () => loadData(select.value));
    loadData(select.value); // initial load

    async function loadData(fieldKey) {
      const url = urls[fieldKey];
      const res = await fetch(url);
      const csv = await res.text();
      const data = Papa.parse(csv, { header: true, skipEmptyLines: true }).data;
      renderTable(data);
    }

    function renderTable(data) {
      const content = document.getElementById("content");
      content.innerHTML = "";

      let currentRound = null;
      let table = null;
      let tbody = null;

      data.forEach(row => {
        const round = row.label1?.trim() || "";
        const match = row.label2?.trim() || "";
        const time = row.Time?.trim() || "";
        const teamA = row.TeamA?.trim() || "";
        const teamB = row.TeamB?.trim() || "";
        const score = row.Score?.trim() || "VS";

        if (!round) return;

        if (round !== currentRound) {
          currentRound = round;

          table = document.createElement("table");
          table.innerHTML = `
            <colgroup>
              <col class="col-time">
              <col class="col-match">
              <col class="col-team">
              <col class="col-vs">
              <col class="col-team">
            </colgroup>
            <thead>
              <tr><th colspan="5">üèÜ ${currentRound}</th></tr>
              <tr>
                <th>‡πÄ‡∏ß‡∏•‡∏≤</th>
                <th>‡∏Ñ‡∏π‡πà‡∏ó‡∏µ‡πà</th>
                <th>‡∏ó‡∏µ‡∏° A</th>
                <th>Score</th>
                <th>‡∏ó‡∏µ‡∏° B</th>
              </tr>
            </thead>
          `;
          tbody = document.createElement("tbody");
          table.appendChild(tbody);
          content.appendChild(table);
        }

        const htmlRow = `
          <tr>
            <td>${time}</td>
            <td>${match}</td>
            <td>${teamA}</td>
            <td class="vs">${score}</td>
            <td>${teamB}</td>
          </tr>
        `;
        tbody.insertAdjacentHTML("beforeend", htmlRow);
      });

      if (!content.children.length) {
        content.innerHTML = `<p style="text-align:center">‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ô‡∏µ‡πâ</p>`;
      }
    }
  </script>
</body>
</html>
